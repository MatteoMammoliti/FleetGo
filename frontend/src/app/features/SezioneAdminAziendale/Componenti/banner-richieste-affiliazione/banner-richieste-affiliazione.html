<div
  class="
    mb-8
    rounded-2xl
    bg-white
    border border-grigio
    p-6
    flex flex-col md:flex-row
    items-start md:items-center
    justify-between gap-6
    transition
    animate-fade-up
    animate-duration-1000
  "
>
  @if (richiesteAffiliazione) {
    <div class="flex flex-col items-start gap-4 justify-between w-full">

      <div class="flex flex-row justify-between items-start w-full">
        <div class="flex gap-4">
          <div
            class="
              w-12 h-12
              rounded-xl
              bg-azzurro/10
              text-azzurro
              flex items-center justify-center
              text-xl
              shrink-0
            "
          >
            <i class="bi bi-person-plus"></i>
          </div>

          <div>
            <p class="text-sm font-medium text-azzurro">
              Richieste di affiliazione
            </p>
            <h3 class="text-xl font-semibold text-testo-p mt-0.5 animate-pulse">
              {{ numRichiesteInAttesa }} in attesa
            </h3>
          </div>
        </div>

        <button
          (click)="apriModaleRichieste.emit()"
          class="group flex items-center gap-2 mr-2 text-sm font-medium text-azzurro border border-azzurro px-4 py-2 rounded-xl hover:bg-azzurro/5 transition-colors"
        >
          <span>Gestisci tutte le richieste</span>
          <i class="bi bi-gear-wide inline-block transition-transform duration-700 group-hover:rotate-180"></i>
        </button>
      </div>

      <div class="bg-gray-50 w-full flex flex-col md:flex-row justify-between items-center p-4 rounded-xl gap-4">
        <div>
          <p class="text-xs text-testo-s tracking-wider uppercase">
            Ultima richiesta da
            <span class="font-medium text-testo-p block md:inline text-sm">
              {{ richiesteAffiliazione.utente?.nomeUtente }} {{ richiesteAffiliazione.utente?.cognomeUtente }}
            </span>
          </p>
        </div>

        <div class="flex gap-3">
          <button
            (click)="rifiutaAffiliazione.emit(richiesteAffiliazione.idUtente)"
            class="
              px-4 py-2
              rounded-lg
              text-sm font-medium
              border border-grigio
              text-testo-s
              hover:bg-white
              transition
              flex items-center gap-2
            "
          >
            <i class="bi bi-x-lg text-sm"></i>
            Rifiuta
          </button>

          <button
            (click)="accettaAffiliazione.emit(richiesteAffiliazione.idUtente)"
            class="
              px-4 py-2
              rounded-lg
              text-sm font-medium
              bg-azzurro hover:bg-azzurro-scuro
              text-white
              transition
              flex items-center gap-2
            "
          >
            <i class="bi bi-check-lg text-base"></i>
            Accetta
          </button>
        </div>
      </div>
    </div>

  } @else {
    <div class="flex items-center gap-4 ">
      <div
        class="
          w-12 h-12
          rounded-xl
          bg-blue-100
          text-azzurro
          flex items-center justify-center
          text-xl
        "
      >
        <i class="bi bi-check-circle animate-pulse"></i>
      </div>

      <div>
        <h3 class="text-base font-semibold text-testo-p">
          Nessuna richiesta in attesa
        </h3>
        <p class="text-sm text-testo-s">
          Il team ora Ã¨ al completo
        </p>
      </div>
    </div>
  }
</div>
