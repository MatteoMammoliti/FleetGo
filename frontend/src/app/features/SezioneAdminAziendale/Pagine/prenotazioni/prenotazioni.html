<div class="p-8 min-h-screen bg-slate-50">

  <div class="mb-8">
    <h1 class="text-3xl font-extrabold text-slate-900 mb-2">Prenotazioni Noleggio</h1>
    <p class="text-slate-500">Visualizza lo storico e le richieste di noleggio dei tuoi dipendenti.</p>
  </div>

  <app-banner-noleggi-da-approvare
    [noleggiDaApprovare]="numeroNoleggiDaApprovare"
    (apriModale)="gestisciVisibilitaModaleAccettazioneNoleggi()">
  </app-banner-noleggi-da-approvare>

  <div class="bg-white p-5 rounded-xl shadow-sm border border-slate-200 mb-6">
    <div class="flex flex-col md:flex-row gap-6 items-end">

      <div class="flex gap-4 items-end w-full md:w-auto">
        <div class="flex-1">
          <label class="block text-xs font-medium text-slate-500 mb-1">Da Mese/Anno</label>
          <input type="month" [(ngModel)]="filtroDataInizio"
                 class="w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm">
        </div>
        <span class="text-slate-400 pb-2">â†’</span>
        <div class="flex-1">
          <label class="block text-xs font-medium text-slate-500 mb-1">A Mese/Anno</label>
          <input type="month" [(ngModel)]="filtroDataFine"
                 class="w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm">
        </div>
      </div>

      <div class="w-full md:w-48">
        <label class="block text-xs font-medium text-slate-500 mb-1">Stato Noleggio</label>
        <select [(ngModel)]="filtroStato"
                class="w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm bg-white cursor-pointer">
          <option value="Tutti">Tutti gli stati</option>
          <option value="In corso">In corso</option>
          <option value="Terminate">Terminate</option>
          <option value="Da ritirare">Da ritirare</option>
        </select>
      </div>

      <button (click)="resettaFiltri()"
              class="text-sm text-indigo-600 hover:text-indigo-800 underline pb-2 ml-auto md:ml-0">
        Resetta
      </button>
    </div>
  </div>

  <app-tabella-prenotazioni
    [richiesteNoleggio]="prenotazioniFiltrate"
    (apriDettaglio)="apriModale($event)">
  </app-tabella-prenotazioni>

  <app-modale-dettagli-prenotazione
    [prenotazione]="dettaglioDellaPrenotazione"
    [paginaVisibile]="modaleDettaglioAperto"
    (chiudiPagina)="chiudiModale()">
  </app-modale-dettagli-prenotazione>

  <app-modale-approvazione-noleggi
    [modaleAperto]="modaleAccettazioneAperto"
    [richiesteNoleggioDaApprovare]="richiesteDaApprovare"
    (chiudiModale)="gestisciVisibilitaModaleAccettazioneNoleggi()"
    (approvaRichiesta)="approvaRichiesta($event)"
    (rifiutaRichiesta)="rifiutaRichiesta($event)"
    (accettazioneConRifiuto)="accettazioneConRifiuto($event)">
  </app-modale-approvazione-noleggi>
</div>
