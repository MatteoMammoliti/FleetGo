<app-template-titolo-sottotitolo titolo="Monitora la salute del tuo team" sottotitolo="Gestisci e monitora i dipendenti"
                                 [testoDestro]="richiesteAffiliazione.length > 0 ? 'Azione richiesta' : 'Tutto in ordine'"
                             [iconaDestra]="richiesteAffiliazione.length > 0 ? 'bi-person-exclamation' : 'bi-check-circle'">

  <div class="px-3 py-5">
    <app-banner-richieste-affiliazione
      [richiesteAffiliazione]="richiesteAffiliazione[0]"
      [numRichiesteInAttesa]="richiesteAffiliazione.length"
      (accettaAffiliazione)="accettaRichiestaAffiliazione($event)"
      (rifiutaAffiliazione)="apriModaleRifiuta($event)"
      (apriModaleRichieste)="apriModaleRichiesteAffiliazione()">
    </app-banner-richieste-affiliazione>

    <app-elenco-dipendenti
      [listaDipendenti]=listaDipendentiAzienda
      (richiestaRimozioneDipendente)=apriModaleRimuovi($event)
      (apriDettagliDipendente)="apriDettagliDipendente($event)">
    </app-elenco-dipendenti>

    <app-modale-dettagli-dipendente
      [dipendente]="dipendenteDaVisualizzare"
      [paginaVisibile]="modaleDettaglioDipendenteVisibile"
      (chiudiPagina)="chiudiModale()"
      [storicoNoleggi]="richiesteNoleggio">
    </app-modale-dettagli-dipendente>

    <app-modale-richieste-affiliazione
      [modaleVisibile]="modaleRichiesteAffiliazione"
      [richiesteAffiliazione]="richiesteAffiliazione"
      (chiudiModale)="chiudiModaleRichiestaAffiliazione()"
      (accettaAffiliazione)="accettaRichiestaAffiliazione($event)"
      (rifiutaAffiliazione)="apriModaleRifiuta($event)">
    </app-modale-richieste-affiliazione>

  </div>


</app-template-titolo-sottotitolo>

@if(OnRimuoviDipendente){
  <app-template-finestra-modale
    titolo="Attenzione"
    tastoBlu="Conferma"
    tastoBianco="Annulla"
    (chiudi)="chiudiModaleRimuovi()"
    (annulla)="chiudiModaleRimuovi()"
    (conferma)="rimuoviDipendente()"
  >
    <span class="messaggioModaleConferma">Cliccando su conferma il dipendente verà eliminato.</span>
  </app-template-finestra-modale>}
  @if(onRifiutaRichiesta){
    <app-template-finestra-modale
      [visibile]="'60'"
      titolo="Attenzione"
      tastoBlu="Conferma"
      tastoBianco="Annulla"
      (chiudi)="chiudiModaleRifiuta()"
      (annulla)="chiudiModaleRifiuta()"
      (conferma)="rifiutaRichiestaAffiliazione()"
    >
      <span class="messaggioModaleConferma">Cliccando su conferma la richiesta di affiliazione verrà rifiutata.</span>
    </app-template-finestra-modale>
    }
@if (erroreBanner) {
  <app-banner-errore [errore]="erroreBanner" (chiudi)="erroreBanner=''"></app-banner-errore>
}
@if(successoBanner){
  <app-banner-errore [successo]="successoBanner" (chiudi)="successoBanner=''"></app-banner-errore>
}

