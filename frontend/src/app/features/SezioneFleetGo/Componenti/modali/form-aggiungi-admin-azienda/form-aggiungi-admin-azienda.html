<app-template-finestra-modale
  #modale
  larghezza="max-w-3xl" titolo="Nuova Azienda Affiliata"
  tastoBlu="Conferma e crea" tastoBianco="Annulla" (conferma)="salva()" (chiudi)="chiudi.emit()"
  (annulla)="chiudi.emit()">
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 px-3 py-4">
    <div class="flex flex-col gap-4">
      <div class="flex items-center gap-2 mb-2 pb-2 border-b border-slate-100">
        <i class="bi-person-badge text-blue-600 text-xl"></i>
        <h3 class="text-lg font-bold text-blu m-0">Dati Amministratore</h3>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <app-input-checked
          titolo="Nome"
          placeholder="Mario"
          [(valore)]="nome"
          [haErrore]="mappaErrori.nome"
          messaggioErrore="Nome richiesto"
          (suInput)="mappaErrori.nome = false">
        </app-input-checked>

        <app-input-checked
          titolo="Cognome"
          placeholder="Rossi"
          [(valore)]="cognome"
          [haErrore]="mappaErrori.cognome"
          messaggioErrore="Cognome richiesto"
          (suInput)="mappaErrori.cognome = false">
        </app-input-checked>

      </div>

      <app-input-checked
        titolo="Data di Nascita"
        type="date"
        [(valore)]="dataNascita"
        [haErrore]="mappaErrori.dataNascita"
        messaggioErrore="Inserisci una data valida"
        (suInput)="mappaErrori.dataNascita = false">
      </app-input-checked>

      <app-input-checked
        titolo="Email Aziendale"
        type="email"
        placeholder="admin@azienda.it"
        [(valore)]="email"
        [haErrore]="mappaErrori.email"
        messaggioErrore="Inserisci un'email valida"
        (suInput)="mappaErrori.email = false">
      </app-input-checked>


      <app-input-checked
        titolo="Password generata casualmente"
        type="password"
        placeholder="••••••••"
        [(valore)]="password"
        messaggioErrore="Password non valida">
      </app-input-checked>

    </div>

    <div class="flex flex-col h-full gap-4">
      <div class="flex items-center gap-2 mb-2 pb-2 border-b border-slate-100">
        <i class="bi-building text-blue-600 text-xl"></i>
        <h3 class="text-lg font-bold text-blu m-0">Dati Azienda</h3>
      </div>
      <div class="flex flex-col gap-4">
        <app-input-checked
          titolo="Ragione Sociale"
          placeholder="Es. Tech Solutions S.r.l."
          [(valore)]="nomeAzienda"
          [haErrore]="mappaErrori.nomeAzienda"
          messaggioErrore="Ragione sociale obbligatoria"
          (suInput)="mappaErrori.nomeAzienda = false">
        </app-input-checked>

        <app-input-checked
          titolo="Partita IVA"
          placeholder="12345678901"
          [(valore)]="partitaIva"
          [haErrore]="mappaErrori.partitaIva"
          messaggioErrore="P.IVA non valida (11 cifre)"
          (suInput)="mappaErrori.partitaIva = false"
          class="font-mono">
        </app-input-checked>
      </div>
      <div
        class="mt-auto p-4 mb-4 bg-blue-50 rounded-xl border border-blue-100 text-sm text-blue-800 flex gap-3 items-start">
        <i class="bi-info-circle-fill text-blue-500 text-lg shrink-0 mt-0.5"></i>
        <p class="leading-relaxed">
          L'admin creato riceverà le credenziali via email e avrà accesso completo
          al pannello di gestione della flotta per questa azienda.
        </p>
      </div>
    </div>


  </div>

</app-template-finestra-modale>
