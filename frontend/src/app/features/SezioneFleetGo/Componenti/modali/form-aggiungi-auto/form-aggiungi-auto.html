<app-template-finestra-modale
  #modale
  titolo="Aggiungi Veicolo" tastoBianco="Annulla" tastoBlu="Salva Veicolo"
                              (conferma)="salva()" (chiudi)="onAnnulla.emit()"
                              (annulla)="onAnnulla.emit()">

  <div class="p-6 flex flex-col gap-2 overflow-y-auto">

    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6">

      <app-scelta-tendina
        titolo="Seleziona Modello"
        [lista]="modelli"
        chiaveVisuale="nomeModello"
        chiaveUtilizzata="idModello"
        [placeholder]="'Scegli un modello...'"
        [(valore)]="idModello"
        [haErrore]="mappaErrori.modello"
        messaggioErrore="Seleziona un modello valido"
        (valoreChange)="mappaErrori.modello = false">
      </app-scelta-tendina>

      <app-input-checked
        titolo="Targa Veicolo"
        placeholder="Es. BB000BS"
        [(valore)]="targaVeicolo"
        [haErrore]="mappaErrori.targaVeicolo"
        messaggioErrore="Targa obbligatoria"
        class="font-mono"
        (suInput)="mappaErrori.targaVeicolo = false">
      </app-input-checked>

    </div>

    <div class="z-20"> <app-scelta-tendina
      titolo="Alimentazione"
      [lista]="opzioniAlimentazione"
      [placeholder]="'Seleziona alimentazione...'"
      [(valore)]="tipoDistribuzioneVeicolo"
      [haErrore]="mappaErrori.tipoDistribuzioneVeicolo"
      messaggioErrore="Seleziona l'alimentazione"
      (valoreChange)="mappaErrori.tipoDistribuzioneVeicolo = false">
    </app-scelta-tendina>
    </div>

    <div class="h-2 flex items-center">
      @if (errore) {
        <span class="messaggioErrore ml-1">
          <i class="bi bi-exclamation-circle mr-1"></i> {{ errore }}
        </span>
      }
    </div>

  </div>

</app-template-finestra-modale>
