<div class="min-h-screen flex w-full bg-grigio">

  <div class="hidden lg:flex w-1/2 relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-azzurro/60 to-blu-notte/90 z-10"></div>
    <img src="immagine_registrazione.avif" alt="Registrazione FleetGo" class="absolute inset-0 w-full h-full object-cover">

    <div class="relative z-20 flex flex-col justify-center h-full px-16 text-white">
      <h1 class="text-5xl font-bold mb-6">Benvenuto!<br>Unisciti a FleetGo.</h1>
      <p class="text-lg opacity-90 max-w-md leading-relaxed">
        Crea il tuo account in pochi secondi e accedi alla piattaforma di gestione flotte più semplice di sempre.
      </p>
    </div>

    <a routerLink="/" class="absolute bottom-10 left-10 z-30 flex items-center gap-3 text-white/70 hover:text-white transition-all group cursor-pointer">
      <div class="w-10 h-10 rounded-full border border-white/30 flex items-center justify-center group-hover:bg-grigio-scuro transition-all">
        <i class="bi-arrow-left text-lg"></i>
      </div>
      <span class="font-bold text-xs uppercase">Torna indietro</span>
    </a>
  </div>

  <div class="w-full lg:w-1/2 flex items-center justify-center p-6 py-12">
    <div class="bg-white rounded-2xl shadow-xl p-8 md:p-10 w-full max-w-[600px] border border-white">

      <div class="text-center mb-8">
        <h2 class="text-3xl font-bold text-blu">Registrati</h2>
        <p class="text-grigio-scuro mt-2">Compila i dati per registrarti</p>
      </div>

      <div class="space-y-4">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4">
          <app-input-checked
            titolo="Nome"
            placeholder="Mario"
            [(valore)]="nome"
            [haErrore]="mappaErrori.nome"
            messaggioErrore="Nome richiesto"
            (suInput)="mappaErrori.nome = false">
          </app-input-checked>

          <app-input-checked
            titolo="Cognome"
            placeholder="Rossi"
            [(valore)]="cognome"
            [haErrore]="mappaErrori.cognome"
            messaggioErrore="Cognome richiesto"
            (suInput)="mappaErrori.cognome = false">
          </app-input-checked>
        </div>

        <app-input-checked
          titolo="Email Aziendale"
          type="email"
          placeholder="nome@azienda.it"
          [(valore)]="email"
          [haErrore]="mappaErrori.email"
          messaggioErrore="Inserisci un'email valida"
          (suInput)="mappaErrori.email = false">
        </app-input-checked>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4 pb-3">
          <app-input-checked
            titolo="Password"
            type="password"
            placeholder="••••••••"
            [(valore)]="password"
            [haErrore]="mappaErrori.password"
            messaggioErrore="Password non valida"
            (suInput)="mappaErrori.password = false">
          </app-input-checked>

          <app-input-checked
            titolo="Conferma Password"
            type="password"
            placeholder="••••••••"
            [(valore)]="ripetiPassword"
            [haErrore]="mappaErrori.ripetiPassword"
            messaggioErrore=""
            (suInput)="mappaErrori.ripetiPassword = false">
          </app-input-checked>
        </div>

        <app-input-checked
          titolo="Data di Nascita"
          type="date"
          [(valore)]="datanascita"
          [haErrore]="mappaErrori.datanascita"
          messaggioErrore="Seleziona la tua data di nascita"
          (suInput)="mappaErrori.datanascita = false">
        </app-input-checked>

        <div class="flex flex-col relative pb-5">
          <label class="text-[11px] font-bold text-black uppercase tracking-wide mb-1">Patente (Fronte-Retro)</label>
          <input type="file" (change)="onFileSelected($event); mappaErrori.patente = false"
                 class="w-full text-sm text-grigio-scuro file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-xs file:font-bold file:uppercase file:bg-azzurro file:text-white hover:file:bg-azzurro-scuro file:transition-all border rounded-xl bg-gray-50 outline-none px-2 py-1.5"
                 [class.border-red-500]="mappaErrori.patente">
          @if (mappaErrori.patente) {
            <p class="erroreInput">Carica un documento valido!</p>
          }
        </div>

        @if (errore=="Password non valida") {
          <div class="messaggioErrore">
            <i class="bi-exclamation-circle mr-100"></i> Usa almeno 8 caratteri, una maiuscola, un numero e un simbolo.
          </div>
        }

        <button (click)="onRegistrazione()"
                class="w-full py-4 bg-azzurro text-white font-bold rounded-xl hover:bg-azzurro-scuro hover:shadow-lg active:scale-[0.98] transition-all flex justify-center items-center gap-2 mt-4">
          Registrati
        </button>

        <div class="text-center pt-6 border-t border-gray-100 mt-6">
          <p class="text-grigio-scuro text-sm">
            Hai già un account?
            <a routerLink="/login" class="text-azzurro font-bold hover:underline hover:text-azzurro-scuro">Accedi</a>
          </p>
        </div>

      </div>
    </div>
  </div>
</div>
