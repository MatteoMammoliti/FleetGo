<div class="bg-white rounded-3xl p-8 shadow-sm border border-grigio flex flex-col justify-center min-h-[220px]">

  <div class="flex justify-between items-center mb-6">
    <div class="flex items-center gap-3">
      <i class="bi bi-calendar-event text-azzurro text-2xl"></i>
      <h3 class="font-bold text-testo-p text-2xl">Prossimo Viaggio</h3>
    </div>

    @if (viaggio) {
      <span class="bg-green-100 text-green-700 text-sm font-bold px-4 py-1.5 rounded-full uppercase tracking-wider">
        {{ viaggio.statoRichiesta }}
      </span>
    }
  </div>

  @if (viaggio) {
    <div class="flex flex-wrap md:flex-nowrap gap-8 items-center">

      <div class="bg-azzurro/10 text-azzurro rounded-2xl w-24 h-24 flex flex-col items-center justify-center flex-shrink-0">
        <span class="text-3xl font-black leading-none">{{ viaggio.dataRitiro | date:'dd' }}</span>
        <span class="text-sm font-bold uppercase mt-1">{{ viaggio.dataRitiro | date:'MMM' }}</span>
      </div>

      <div class="space-y-2 flex-grow">
        <div class="flex items-center gap-2 text-testo-s font-medium">
          <i class="bi bi-clock text-lg"></i>
          <span class="text-lg">{{ viaggio.oraInizio }}</span>
        </div>

        <h4 class="text-2xl font-bold text-testo-p">{{ viaggio.motivazione }}</h4>

        <p class="text-testo-s text-base flex items-center gap-2">
          <i class="bi bi-car-front-fill"></i>
          {{ viaggio.veicolo?.nomeModello || 'Veicolo non assegnato' }}
          @if (viaggio.veicolo?.targaVeicolo) {
            <span class="font-mono bg-grigio px-2 py-0.5 rounded text-testo-p font-medium border border-gray-300">
              {{ viaggio.veicolo?.targaVeicolo }}
            </span>
          }
        </p>
      </div>
    </div>

  } @else {
    <div class="text-center py-6">
      <div class="w-16 h-16 bg-grigio rounded-full flex items-center justify-center mx-auto mb-4 text-testo-s text-3xl">
        <i class="bi bi-calendar-x"></i>
      </div>
      <p class="text-testo-p font-bold text-lg">Nessun viaggio in programma</p>
      <p class="text-testo-s mb-4">Non hai prenotazioni attive al momento.</p>
      <button class="text-azzurro font-bold hover:underline">Pianifica Nuovo Viaggio</button>
    </div>
  }
</div>
