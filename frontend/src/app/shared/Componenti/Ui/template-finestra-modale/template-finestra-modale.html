<div class="fixed inset-0 bg-slate-900/60 backdrop-blur-[2px] z-50 flex items-center justify-center p-4"
     (click)="chiudi.emit()">

  <div class="animate-fade-in bg-white w-full {{larghezza}} rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col"
       (click)="$event.stopPropagation()">

    <div class="flex justify-between items-center px-6 py-4 border-b border-slate-100 bg-white shrink-0">
      <div class="flex flex-col">
        <span class="text-xl font-black text-slate-800">{{titolo}}</span>
        @if(sottotitolo){
          <p class="text-sm text-slate-500 font-medium mt-0.5">
            {{sottotitolo}}
          </p>
        }
      </div>
      <button class="w-8 h-8 rounded-full bg-slate-50 hover:bg-slate-100 text-slate-500 flex items-center justify-center transition-colors"
              (click)="chiudi.emit()"
              type="button"
              title="Chiudi">
        <i class="bi bi-x-lg text-sm"></i>
      </button>
    </div>

    <div class="px-2 overflow-y-auto min-h-0 flex-grow scrollbar-hide">
      <ng-content></ng-content>
    </div>

    <div class="flex justify-end gap-x-3 bg-slate-50/50 p-4 border-t border-slate-100 shrink-0">
      @if(tastoBianco){
        <button class="px-5 py-2.5 text-sm font-bold text-slate-500 bg-white border border-transparent rounded-xl
               hover:bg-white hover:text-slate-700 hover:shadow-sm hover:border-slate-200 active:bg-slate-50 transition-all"
                (click)="annulla.emit()">
          {{tastoBianco}}
        </button>
      }
      @if(tastoBlu){
        <button class="px-6 py-2.5 text-sm font-bold text-white bg-blue-600 rounded-xl
               hover:bg-blue-700 hover:shadow-lg hover:shadow-blue-200
               active:scale-95 transition-all shadow-sm flex items-center gap-2
               disabled:bg-slate-200 disabled:text-slate-400 disabled:shadow-none disabled:cursor-not-allowed disabled:hover:scale-100"
                (click)="conferma.emit()">
          {{tastoBlu}}
        </button>
      }
    </div>
  </div>
</div>
