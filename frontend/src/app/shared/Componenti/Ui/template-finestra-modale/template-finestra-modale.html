<div class="fixed inset-0 bg-slate-900/60 backdrop-blur-[2px] z-50 flex items-center justify-center p-4 animate-fade animate-duration-300"
     [class.animate-fade-out]="chiusuraInCorso"
     (click)="chiudiModale()">

  <div class="bg-white w-full {{larghezza}} rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col border border-slate-100 animate-duration-300 animate-once"
       [class.animate-jump-in]="!chiusuraInCorso"
       [class.animate-jump-out]="chiusuraInCorso"
       (click)="$event.stopPropagation()">

    <div class="flex justify-between items-center p-5 border-b border-slate-100 bg-slate-50/50 shrink-0">
      <div class="flex flex-col">
        <span class="font-bold text-slate-800 text-lg tracking-tight">{{titolo}}</span>
        @if(sottotitolo){
          <p class="text-[10px] uppercase tracking-widest text-slate-500 font-bold mt-0.5">
            {{sottotitolo}}
          </p>
        }
      </div>
      <button class="bg-slate-100 text-slate-400 rounded-full w-8 h-8 flex justify-center items-center hover:bg-red-50 hover:text-red-500 transition-colors"
              (click)="chiudiModale()" type="button"> <i class="bi bi-x-lg text-sm"></i>
      </button>
    </div>

    <div class="px-6 py-5 overflow-y-auto min-h-0 flex-grow custom-scrollbar">
      <ng-content></ng-content>
    </div>

    <div class="flex justify-end gap-x-3 bg-slate-50/80 p-4 border-t border-slate-100 shrink-0">
      @if(tastoBianco){
        <button class="px-5 py-2.5 text-sm font-semibold text-slate-600 bg-white border border-slate-200 rounded-xl
               hover:bg-slate-50 hover:border-slate-300 active:scale-95 transition-all"
                (click)="annullaModale()">
          {{tastoBianco}}
        </button>
      }
      @if(tastoBlu){
        <button class="px-6 py-2.5 text-sm font-bold text-white bg-azzurro rounded-xl
               hover:bg-azzurro-scuro hover:shadow-lg hover:shadow-azzurro/20
               active:scale-95 transition-all shadow-md shadow-azzurro/10"
                (click)="confermaModale()">
          {{tastoBlu}}
        </button>
      }
    </div>
  </div>
</div>
