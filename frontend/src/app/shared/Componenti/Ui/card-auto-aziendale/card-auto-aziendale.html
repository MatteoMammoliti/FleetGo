<div class="animate-fade-right animate-once animate-duration-1000">

  <div class="group bg-white rounded-2xl  border border-slate-100 shadow-sm
              hover:shadow-xl hover:-translate-y-1 transition-all duration-300
              transform-gpu relative overflow-hidden will-change-transform">

    <div class="absolute top-0 left-0 w-full h-1.5 transition-opacity duration-300"
         [ngClass]="!veicolo.luogoRitiroDeposito?.nomeLuogo ?
                'bg-gradient-to-r from-red-500 to-red-700 opacity-100 animate-pulse animate-duration-[3000ms] animate-infinite' :
                'bg-gradient-to-r from-azzurro to-blue-600 opacity-0 group-hover:opacity-100'">
                </div>


    <div class="h-44 w-full bg-slate-50 flex items-center justify-center p-4">
    @if(veicolo.urlImmagine) {
      <img [src]="veicolo.urlImmagine"
           alt="Foto Veicolo"
           class="w-full h-full object-contain mix-blend-multiply">
    } @else {
      <i class="bi-car-front text-5xl text-slate-300"></i>
    }
  </div>

  <div class="px-4 py-2 flex flex-col flex-grow text-center gap-3">

    <div class="flex w-full justify-between">
      <div class="text-left">
        <h3 class="text-md font-bold text-slate-800 leading-tight">
          {{ veicolo.nomeModello }}
        </h3>
        <p class="text-xs text-slate-400 font-medium">
          {{ veicolo.tipoDistribuzioneVeicolo || veicolo.alimentazione }}
        </p>
      </div>

      <div class="">
        <span class="bg-slate-100 text-slate-600 px-2 py-1 rounded text-xs font-mono font-bold tracking-wider border border-slate-200">
          {{ veicolo.targaVeicolo }}
        </span>
        </div>
    </div>

  </div>

  <div class="p-3 border-t border-slate-100 bg-slate-50/30 mt-auto">
    @if(veicolo.luogoRitiroDeposito.nomeLuogo){
      <button (click)="apriDettagli.emit(veicolo)"
              class="w-full flex items-center justify-center gap-2 bg-azzurro  hover:bg-azzurro-scuro text-white  font-semibold py-2.5 rounded-xl transition-colors text-sm">
        Dettagli Veicolo
      </button>
    }
    @else{
      <button (click)="apriDettagli.emit(veicolo)"
              class="w-full flex items-center border-2 border-red-300 justify-center gap-2 bg-red-100  hover:bg-red-200 text-red-800   font-semibold py-2.5 rounded-xl transition-colors text-sm animate-pulse animate-duration-[3000ms] animate-infinite">
        Imposta il luogo
      </button>
    }

  </div>

</div>
</div>
